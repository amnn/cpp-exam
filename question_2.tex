\subsection{Part (a)}\label{sec:q-2-a}

First we define some notation for describing $\lambda$-terms and their properties.

\newcommand{\Vars}{\mathcal{V}}

\begin{align*}
  \Vars & \triangleq \{x_1, x_2,\ldots\}
  \mathnote{An inexhaustible supply of variables}\\
  \Lambda & \triangleq\text{ The set of all untyped }\lambda\text{-terms.}\\
  \FV & : \Lambda \to 2^{\Vars}\\
  \FV & : \rlap{$x$}\phantom{\lambda x\ldotp t} \mapsto \{x\}
  \mathnote{$x\in\Vars$}\\
  \FV & : \rlap{$ut$}\phantom{\lambda x\ldotp t} \mapsto FV(u)\cup FV(t)
  \mathnote{$u,t\in\Lambda$}\\
  \FV & : \lambda x\ldotp t\mapsto FV(t)\setminus\{x\}
  \mathnote{$x\in\Vars,~t\in\Lambda$}
\end{align*}

Then we may define $(-)^*$ inductively over the structure of $\lambda$-terms by:

\begin{align*}
  x^* & \triangleq x\\
  (uv)^* & \triangleq \mathbf{r}u^*v^*\\
  (\lambda x\ldotp t)^* & \triangleq \mathbf{s}(\lambda x\ldotp t^*)
\end{align*}

\begin{prop}
  For any $t\in\Lambda$, with $FV(t) = \{x_1,\ldots,x_n\}$, a type deduction of $x_1 : A,\ldots,x_n : A\vdash t^* : A$ exists.\\

  Proof by Induction over structure of $t$
  \begin{proof}[Case] $t\equiv x$ where $x\in\Vars$
    \begin{prooftree}
      \AXC{}
      \RightLabel{\scriptsize(var)}
      \UIC{$x : A\vdash t^*\equiv x : A$}
    \end{prooftree}\qedhere
  \end{proof}

  \begin{proof}[Case]
    $t\equiv uv$ where $u, v\in\Lambda,~\FV(t) =\FV(u)\cup\FV(v)$
    \begin{flalign*}
      \text{W.l.o.g. }\FV(u) & = \{x_1,\ldots,x_i\} &\\
      \FV(v) & = \{x_{j+1},\ldots,x_n\} &
      \mathnote{$0\leq j\leq i\leq n$}
    \end{flalign*}

    \begin{prooftree}
      \AXC{}
      \RightLabel{\scriptsize(\textbf{r}-intro)}
      \UIC{$\vdash \mathbf{r} : A\to A$}
      \AXC{$\vdots$}
      \RightLabel{\scriptsize(I.H.)}
      \UIC{$x_1 : A,\ldots,x_i : A\vdash u^* : A$}
      \RightLabel{\scriptsize($\to$-elim)}
      \BIC{$x_1 : A,\ldots,x_i : A\vdash\mathbf{r}u^* : A\to A$}
      \AXC{$\vdots$}
      \RightLabel{\scriptsize(I.H.)}
      \UIC{$x_{j+1} : A,\ldots,x_n : A\vdash t^* : A$}
      \RightLabel{\scriptsize($\to$-elim)}
      \BIC{$x_1 : A,\ldots,x_n : A\vdash t^* \equiv \mathbf{r}u^*v^* : A$}
    \end{prooftree}
  \end{proof}

  \begin{proof}[Case]
    $t\equiv \lambda x\ldotp u$ where $x\notin \FV(u),~\FV(t)=\FV(u)=\{x_1,\ldots,x_n\}$
    \begin{prooftree}
      \AXC{}
      \RightLabel{\scriptsize(\textbf{s}-intro)}
      \UIC{$\vdash \mathbf{s} : (A\to A)\to A$}
      \AXC{$\vdots$}
      \RightLabel{\scriptsize(I.H.)}
      \UIC{$x_1 : A,\ldots,x_n : A\vdash u^* : A$}
      \RightLabel{\scriptsize($\to$-intro)}
      \UIC{$x_1 : A,\ldots,x_n : A\vdash\lambda x\ldotp u^* : A\to A$}
      \RightLabel{\scriptsize($\to$-elim)}
      \BIC{$x_1 : A,\ldots,x_n : A\vdash t^* \equiv\mathbf{s}(\lambda x\ldotp u^*) : A$}
    \end{prooftree}
  \end{proof}

  \begin{proof}[Case]
    $t\equiv \lambda x\ldotp u$ where $x\in\FV(u),~\FV(t) = \FV(u)\setminus\{x\}$
    \begin{flalign*}
      \text{W.l.o.g. }x & \equiv x_{n+1} &\\
      \FV(u) & = \{x_1,\ldots,x_n,x_{n+1}\} &
    \end{flalign*}
    \begin{prooftree}
      \AXC{}
      \RightLabel{\scriptsize(\textbf{s}-intro)}
      \UIC{$\vdash \mathbf{s} : (A\to A)\to A$}
      \AXC{$\vdots$}
      \RightLabel{\scriptsize(I.H.)}
      \UIC{$x_1 : A,\ldots,x_n : A\vdash u^* : A$}
      \RightLabel{\scriptsize($\to$-intro)}
      \UIC{$x_1 : A,\ldots,x_n : A,x_{n+1} : A\vdash\lambda x\ldotp u^* : A\to A$}
      \RightLabel{\scriptsize($\to$-elim)}
      \BIC{$x_1 : A,\ldots,x_n : A\vdash t^* \equiv\mathbf{s}(\lambda x\ldotp u^*) : A$}
    \end{prooftree}
  \end{proof}
\end{prop}

\begin{prop}
  For any $t, u\in\Lambda$, $t[u/x]^* \equiv t^*[u^*/x]$\\
  Proof by induction over structure of $t$
  \begin{proof}[Case]
    $t\equiv x$
    \begin{itemize}
      \item[\phantom{$\equiv$}] $x[u/x]^*$

      \item[$\equiv$] $u^*$
        \marginnote{\Def-substitution}

        \item[$\equiv$] $x[u^*/x]$
          \marginnote{\Def-substitution}

        \item[$\equiv$] $x^*[u^*/x]$
          \marginnote{\Def-$(-)^*$}
          \qedhere
    \end{itemize}
  \end{proof}

  \begin{proof}[Case]
    $t\equiv y$ where $y\in\Vars,~y\not\equiv x$
    \begin{itemize}
      \item[\phantom{$\equiv$}] $y[u/x]^*$
      \item[$\equiv$] $y^*$
          \marginnote{\Def-substitution}
      \item[$\equiv$] $y^*[u^*/x]$
          \marginnote{\Def-substitution}
          \qedhere
    \end{itemize}
  \end{proof}

  \begin{proof}[Case]
    $t\equiv pq$
    \begin{itemize}
      \item[\phantom{$\equiv$}] $(pq)[u/x]^*$

      \item[$\equiv$] $(p[u/x]q[u/x])^*$
          \marginnote{\Def-substitution}

      \item[$\equiv$] $\mathbf{r}p[u/x]^*q[u/x]^*$
          \marginnote{\Def-$(-)^*$}

      \item[$\equiv$] $\mathbf{r}p^*[u^*/x]q^*[u^*/x]$
          \marginnote{\textbf{induction hypothesis}}

      \item[$\equiv$] $(\mathbf{r}p^*q^*)[u^*/x])$
          \marginnote{\Def-substitution}

      \item[$\equiv$] $(pq)^*[u^*/x]$
          \marginnote{\Def-$(-)^*$}
          \qedhere
    \end{itemize}
  \end{proof}

  \begin{proof}[Case]
    $t\equiv\lambda x\ldotp p$
    \begin{itemize}
      \item[\phantom{$\equiv$}]
        $(\lambda x\ldotp p)[u/x]^*$

      \item[$\equiv$]
        $(\lambda x\ldotp p)^*$
        \marginnote{\Def-substitution}

      \item[$\equiv$]
        $\mathbf{s}(\lambda x\ldotp p^*)$
        \marginnote{\Def-$(-)^*$}

      \item[$\equiv$]
        $\mathbf{s}(\lambda x\ldotp p^*)[u^*/x]$
        \marginnote{\Def-substitution}

      \item[$\equiv$]
        $(\mathbf{s}(\lambda x\ldotp p^*))[u^*/x]$
        \marginnote{\Def-substitution}

      \item[$\equiv$]
        $(\lambda x\ldotp p)^*[u^*/x]$
        \marginnote{\Def-$(-)^*$}
        \qedhere
    \end{itemize}
  \end{proof}

  \begin{proof}[Case]
    $t\equiv\lambda y\ldotp p$ where $y\in\Vars,~y\not\equiv x$
    \begin{itemize}
      \item[\phantom{$\equiv$}]
        $(\lambda y\ldotp p)[u/x]^*$

      \item[$\equiv$]
        $(\lambda y\ldotp p[u/x])^*$
        \marginnote{\Def-substitution}

      \item[$\equiv$]
        $\mathbf{s}(\lambda y\ldotp p[u/x]^*)$
        \marginnote{\Def-$(-)^*$}

      \item[$\equiv$]
        $\mathbf{s}(\lambda y\ldotp p^*[u^*/x])$
        \marginnote{\textbf{induction hypothesis}}

      \item[$\equiv$]
        $(\mathbf{s}(\lambda y\ldotp p^*))[u^*/x]$
        \marginnote{\Def-substitution}

      \item[$\equiv$]
        $(\lambda y\ldotp p)^*[u^*/x]$
        \marginnote{\Def-$(-)^*$}
        \qedhere
    \end{itemize}
  \end{proof}
\end{prop}

\begin{prop}
  $((\lambda x\ldotp t)u)^* =_{\text rs} t^*[u^*/x]$
  \begin{proof}
    \begin{itemize}
      \item[\phantom{$\equiv$}]
        $((\lambda x\ldotp t)u)^*$

      \item[$\equiv$]
        $\mathbf{r}(\lambda x\ldotp t)^*u^*$
        \marginnote{\Def-$(-)^*$}

      \item[$\equiv$]
        $\mathbf{r}(\mathbf{s}(\lambda x\ldotp t^*))u^*$
        \marginnote{\Def-$(-)^*$}

      \item[$=_{\text rs}$]$(\lambda x\ldotp t^*)u^*$
        \marginnote{\Def-$=_{\text rs}$}

      \item[$=_\beta$] $t^*[u^*/x]$
        \marginnote{\Def-$=_\beta$}
        \qedhere
    \end{itemize}
  \end{proof}
\end{prop}

\subsection{Part (b)}\label{sec:q-2-b}

\begin{align*}
  \omega^* & \equiv (\lambda x\ldotp xx)^*\\
  & \equiv \mathbf{s}\lambda x\ldotp (xx)^*\\
  & \equiv \mathbf{s}\lambda x\ldotp \mathbf{r}xx
\end{align*}

\subsection{Part (c)}\label{sec:q-2-c}

A normalising $\lambda$-theory, $T$, is one in which every $\lambda$-term $T$-reduces to a normal form. To show that the rs-calculus is not such a theory, it suffices to construct a $\lambda$-term from which there exists no finite rs-reduction sequence. Consider $\Omega\equiv\omega\omega$, then:

\begin{itemize}

  \item[\phantom{$\equiv$}] $\Omega^*$

  \item[$\equiv$] $((\lambda x\ldotp xx)(\lambda x\ldotp xx))^*$

  \item[$\equiv$] $\mathbf{r}(\lambda x\ldotp xx)^*(\lambda x\ldotp xx)^*$

  \item[$\equiv$] $\mathbf{r}(\mathbf{s}\lambda x\ldotp (xx)^*)(\mathbf{s}\lambda x\ldotp (xx)^*)$

  \item[$\equiv$] $\mathbf{r}(\mathbf{s}\lambda x\ldotp \mathbf{r}xx)(\mathbf{s}\lambda x\ldotp \mathbf{r}xx)$

  \item[$\to_{\text rs}$] $(\lambda x\ldotp \mathbf{r}xx)(\mathbf{s}\lambda x\ldotp \mathbf{r}xx)$

  \item[$\to_{\text rs}$] $\mathbf{r}(\mathbf{s}\lambda x\ldotp \mathbf{r}xx)(\mathbf{s}\lambda x\ldotp \mathbf{r}xx)$

  \item[$\to_{\text rs}$] $\ldots$

  \item[\imps] All reduction sequences from $\Omega^*$ are non-terminating.

  \item[\imps] $\Omega^*$ has no rs-normal form.

  \item[\imps] rs-calculus is not normalising.
\end{itemize}

\subsection{Part (d)}\label{sec:q-2-d}

\begin{flalign*}
\text{Let } & \cat{C}\text{ be a CCC}\text{ with } A\in\cat{C} &\\
\text{and } & s : (A\Exp A)\rightleftarrows A : r\text{ in }\cat{C}\text{ such that }r\compose s = \id_{A\Exp A}\text{.} &\\
\text{let } & t \text{ be a term in the rs-calculus} &\\
\text{with } & \FV(t) = \{x_1,\ldots,x_n\}\text{.} &\\
\text{let } & x_1 : T_1,\ldots,x_n : T_n \vdash t : T\text{ be a typing judgement in rs.}&
\end{flalign*}

Then we define our interpretation of $t$ in $\cat{C}$, $\sembrack{t}$ as a morphism in $\cat{C}$:
\begin{center}
  \begin{tikzcd}
    \sembrack{T_1}\times\ldots\times\sembrack{T_n} \arrow[r, "\sembrack{t}"] & \sembrack{T}
  \end{tikzcd}
\end{center}
With semantic brackets defined as follows, for types.

\begin{align*}
  \sembrack{A} & \triangleq A \in\cat{C}
  \mathnote{Base types are assigned to objects in $\cat{C}$. In particular, $A$, the type is assigned to $A\in\cat{C}$. }\\
  \sembrack{T} & \triangleq T \in\cat{C} \\
  \sembrack{T\to U} & \triangleq \sembrack{T} \Exp \sembrack{U}
  \mathnote{The exponential object in $\cat{C}$.}
\end{align*}

And for rs-terms, take
\begin{align*}
  \sembrack{\Gamma\vdash \mathbf{r} : A\to(A\to A)}
  & \triangleq \sembrack{\Gamma}
  \overset{!}{\longrightarrow} \top
  \overset{\lambda r^\prime}{\longrightarrow} A\Exp(A\Exp A)
  \mathnote{\textbf{terminal}-$\top$}\\
  \text{where }r^\prime & \triangleq
  \top\times A
  \overset{\cong}{\longrightarrow} A
  \overset{r}{\longrightarrow} A\Exp A
  \mathnote{\textbf{iso}-$\cong$}\\
  \sembrack{\Gamma\vdash \mathbf{s} : (A\to A)\to A}
  & \triangleq \sembrack{\Gamma}
  \overset{!}{\longrightarrow} \top
  \overset{\lambda s^\prime}{\longrightarrow} (A\Exp A)\Exp A
  \mathnote{\textbf{terminal}-$\top$}\\
  \text{where }s^\prime & \triangleq
  \top\times (A\Exp A)
  \overset{\cong}{\longrightarrow} A\Exp A
  \overset{s}{\longrightarrow} A
  \mathnote{\textbf{iso}-$\cong$}\\
  \sembrack{\Gamma,~x : T\vdash x : T}
  & \triangleq \sembrack{\Gamma}\times\sembrack{T}
  \overset{\pi_2}{\longrightarrow}\sembrack{T}
  \mathnote{\textbf{projection}-$\pi_2$}\\
\end{align*}

\begin{prooftree}
  \AXC{$\sembrack{\Gamma,x : T\vdash t : U} = \sembrack{\Gamma}\times\sembrack{T}\overset{f}{\longrightarrow}\sembrack{U}$}
  \UIC{$\sembrack{\Gamma\vdash\lambda x\ldotp t : T\to U}\triangleq\sembrack{\Gamma}\overset{\lambda f}{\longrightarrow}\sembrack{T}\Exp\sembrack{U}$}
\end{prooftree}

\begin{prooftree}
  \AXC{$\sembrack{\Gamma\vdash t : T\to U} = \sembrack{\Gamma}\overset{f}{\longrightarrow}\sembrack{T}\Exp\sembrack{U}$}
  \AXC{$\sembrack{\Gamma\vdash u : T} = \sembrack{\Gamma}\overset{g}{\longrightarrow}\sembrack{T}$}
  \BIC{$\sembrack{\Gamma\vdash tu : U}\triangleq\sembrack{\Gamma}\xrightarrow{\langle f,g\rangle}(\sembrack{T}\Exp\sembrack{U})\times\sembrack{T}\xrightarrow{\operatorname{ev}_{TU}}\sembrack{U}$}
\end{prooftree}

It remains to show that ${t =_{\text rs} u\implies \sembrack{t} = \sembrack{u}}$. Firstly, we observe that this definition builds on the the definition in the notes, for the use of a CCC as a model of $\lambda\beta\eta$-theory, adding new rules only to deal with the distinguished type $A$, and the constants $\mathbf{r}$ and $\mathbf{s}$ that have been introduced. This implies that for terms ${u,t\in\Lambda}$ not mentioning $\mathbf{r}$, or $\mathbf{s}$ and type judgements not involving $A$, ${u =_\beta t \implies \sembrack{u} = \sembrack{t}}$.\\[1em]

All the that remains to be shown is that for those terms and type judgements that do contain the aforementioned, the proposition holds. For this, it suffices to prove that $\sembrack{\mathbf{r}(\mathbf{s}t)} = \sembrack{t}$ (Proposition~\ref{prop:rs-model}).\\[1em]

Our definition and proof rely in part upon the isomorphism ${\cong~:\top\times A\rightleftarrows A :~\cong^{-1}}$, which is known to exist because $\cat{C}$ is a CCC. This fact is used in our construction of the interpretations of $\mathbf{r}$ and $\mathbf{s}$. Below we give explicit constructions for the isomorphism.

\begin{lemma}\label{lemma:prod-term-iso}
  For any $X\in\cat{C}$, the isomorphism ${\cong~:\top\times X\rightleftarrows X :~\cong^{-1}}$ is defined by
  \begin{align*}
    \cong^{\phantom{-1}} & \triangleq \pi_2 \\
    \cong^{-1} & \triangleq \langle !,~\id_X \rangle
  \end{align*}

  \begin{proof}[Proof] $\cong\compose\cong^{-1}~= \id_X$
    \begin{itemize}
      \item[\phs] $\cong\compose\cong^{-1}$
      \item[\eqs] $\pi_2\compose\langle !,~\id_X\rangle$
        \marginnote{\Def-$\cong$;~\Def-$\cong^{-1}$}
      \item[\eqs] $\id_X$
        \qedhere
        \marginnote{\Def-projection}
    \end{itemize}
  \end{proof}

  \begin{proof}[Proof]$\cong^{-1}\compose\cong~= \id_{\top\times X}$
    \begin{itemize}
      \item[\phs] $\cong^{-1}\compose\cong$
      \item[\eqs] $\langle !,~\id_X\rangle\compose\pi_2$
        \marginnote{\Def-$\cong$;~\Def-$\cong^{-1}$}

      \item[\eqs] $\langle !\compose\pi_2,~\id_X\compose\pi_2\rangle$
        \marginnote{\textbf{universal}-product}
      \item[\eqs] $\langle !\compose\pi_2,~\pi_2\rangle$

        \marginnote{\Def-$\id$}

      \item[\eqs] $\langle !\compose\pi_1,~\pi_2\rangle$
        \marginnote{\textbf{universal}-terminal}

      \item[\eqs] $\langle \id_\top\compose\pi_1,~\pi_2\rangle$
        \marginnote{\textbf{universal}-terminal}

      \item[\eqs] $\langle \pi_1,~\pi_2\rangle$
        \marginnote{\Def-$\id$}

      \item[\eqs] $\id_{\top\times X}$
        \qedhere
        \marginnote{\textbf{universal}-product}

    \end{itemize}
  \end{proof}
\end{lemma}

As a corollary to this result we have that for any $f : X\to Y$, $\langle !,~f\rangle = \langle !\compose f,~\id_Y\compose f\rangle = \langle !,~\id_Y\rangle\compose f =~\cong^{-1}\compose f$.\\[1em]

We also require a result pertaining to the factoring of function composition through the universal product morphism.

\begin{lemma}\label{lemma:prod-comp-factor}
  $\langle f\compose g,~h\rangle = (f\times\id)\compose\langle g,~h\rangle$
  \begin{proof}
    \begin{itemize}
      \item[\phs]
        $(f\times\id)\compose\langle g,~h\rangle$

      \item[\eqs]
        $\langle f\compose\pi_1,~g\compose\pi_2\rangle\compose\langle g,~h\rangle$
        \marginnote{\Def-$\times$}

      \item[\eqs]
        $\langle f\compose\pi_1\compose\langle g,~h\rangle,~\id\compose\pi_2\compose\langle g,~h\rangle\rangle$
        \marginnote{\textbf{universal}-product}

      \item[\eqs]
        $\langle f\compose g,~\id\compose h\rangle$
        \marginnote{\Def-projection}

      \item[\eqs]
        $\langle f\compose g,~h\rangle$
        \qedhere
        \marginnote{\Def-$\id$}
    \end{itemize}
  \end{proof}
\end{lemma}

Now on to the main result:

\begin{prop}\label{prop:rs-model}
  $\sembrack{\Gamma\vdash\mathbf{r}(\mathbf{s}t) : A\to A} = \sembrack{\Gamma\vdash t : A\to A}$
  \begin{proof}
    Let $t\in\Lambda$ be a term for which ${\Gamma\vdash t : A\to A}$ is deducible in the rs-calculus.

    \begin{itemize}
      \item[\phs] $\sembrack{\Gamma\vdash\mathbf{r}(\mathbf{s}t) : A\to A}$

      \item[\eqs]
          $\sembrack{\Gamma} \xrightarrow{\langle f,~g\rangle} (A\Exp(A\Exp A))\times A \xrightarrow{\operatorname{ev}_{A,A\Exp A}}
          A$
        \begin{flalign*}
          \text{where }
          f & = \sembrack{\Gamma}\overset{!}{\longrightarrow}\top\overset{\lambda r^\prime}{\longrightarrow} A\Exp(A\Exp A)&\\
          g & = \sembrack{\Gamma\vdash\mathbf{s}t : A} &\\
          & = \sembrack{\Gamma}\xrightarrow{\langle h,~i\rangle}((A\Exp A)\Exp A)\times(A\Exp A)\xrightarrow{\operatorname{ev}_{A\Exp A,A}} A &\\
          h & = \sembrack{\Gamma}\overset{!}{\longrightarrow}\top\overset{\lambda s^\prime}{\longrightarrow} (A\Exp A)\Exp A&\\
          i & = \sembrack{\Gamma}\overset{\sembrack{t}}{\longrightarrow}A\Exp A &
        \end{flalign*}

        \item[\eqs]
          $\operatorname{ev}_{A,A\Exp A}\compose\langle\lambda r^\prime\compose !,~\operatorname{ev}_{A\Exp A,A}\compose\langle\lambda s^\prime\compose !,~\sembrack{t}\rangle\rangle$

        \item[\eqs]
          $\operatorname{ev}_{A,A\Exp A}\compose(\lambda r^\prime\times\id)\compose\langle !,~\operatorname{ev}_{A\Exp A,A}\compose\langle\lambda s^\prime\compose !,~\sembrack{t}\rangle\rangle$
          \marginnote{\Lemma-\ref{lemma:prod-comp-factor}}

        \item[\eqs]
          $r\compose\cong\compose\langle !,~\operatorname{ev}_{A\Exp A,A}\compose\langle\lambda s^\prime\compose !,~\sembrack{t}\rangle\rangle$
          \marginnote{\Def-exponential}

        \item[\eqs]
          $r\compose\cong\compose\cong^{-1}\compose\operatorname{ev}_{A\Exp A,A}\compose\langle\lambda s^\prime\compose !,~\sembrack{t}\rangle$
          \marginnote{\Lemma-\ref{lemma:prod-term-iso}}

        \item[\eqs]
          $r\compose\operatorname{ev}_{A\Exp A,A}\compose\langle\lambda s^\prime\compose !,~\sembrack{t}\rangle$
          \marginnote{\textbf{iso}-$\cong$}

        \item[\eqs]
          $r\compose\operatorname{ev}_{A\Exp A,A}\compose(\lambda s^\prime\times\id)\compose\langle !,~\sembrack{t}\rangle$
          \marginnote{\Lemma-\ref{lemma:prod-comp-factor}}

        \item[\eqs]
          $r\compose s\compose\cong\compose\langle !,~\sembrack{t}\rangle$
          \marginnote{\Def-exponential}

        \item[\eqs]
          $r\compose s\compose\cong\compose\cong^{-1}\compose\sembrack{t}$
          \marginnote{\Lemma-\ref{lemma:prod-term-iso}}
        \item[\eqs]
          $r\compose s\compose\sembrack{t}$
          \marginnote{\textbf{iso}-$\cong$}

        \item[\eqs]
          $\sembrack{t}$
          \qedhere
          \marginnote{$r\compose s = \id_{A\Exp A}$}
    \end{itemize}
  \end{proof}
\end{prop}


\subsection{Part (e)}\label{sec:q-2-e}

A model in $\mathbf{Set}$ consists of an object $A\in\mathbf{Set}$ and morphisms ${r : \rightleftarrows A^A : s}$ such that ${r\compose s = \id_{A^A}}$. This imposes a restriction on the size of the function space, namely:

\begin{prop}
  $\abs{A^A}\leq\abs{A}$

  \begin{proof}[Proof by Contradiction] Suppose $\abs{A^A} > \abs{A}$
    \begin{itemize}
      \item[\iffs] $\abs{\operatorname{Dom}(s)} > \abs{\operatorname{CoDom}(s)}$

      \item[\imps] $\exists f, g\in A^A\ldotp~ f\neq g\land s(f) = s(g)$
        \marginnote{pigeonhole principle}

      \item[\imps] $\exists f, g\in A^A\ldotp~ f\neq g\land r(s(f)) = r(s(g))$

      \item[\imps] $r\compose s\neq\id_{A^A}$
      \item[\contras] $\abs{A^A}\leq\abs{A}$
        \qedhere
        \marginnote{\Contra-($r\compose s = \id_{A^A}$)}
    \end{itemize}
  \end{proof}
\end{prop}

As a corollary to this result, the only rs model in $\mathbf{Set}$ is the terminal object (up to isomorphism).

\begin{prop}
  $\{\ast\}$ is the only rs model in $\mathbf{Set}$ up to isomorphism.
  \begin{proof}[Case]
    $A = \varnothing$
    \begin{align*}
      \abs{A^A} = \abs{A}^{\abs{A}} = 0^0 = 1 \nleq 0 = \abs{A}
      \tag*{\qedhere}
    \end{align*}
  \end{proof}

  \begin{proof}[Case]
    $A = \{\ast\}$
    \begin{align*}
      \abs{A^A} = \abs{A}^{\abs{A}} = 1^1 = 1 \leq 1 = \abs{A}
    \end{align*}
    And we may (in fact, must) define
    \begin{align*}
      r & : \ast \mapsto \id_{\{\ast\}}\\
      s & : \id_{\{\ast\}} \mapsto \ast
    \end{align*}
    So that $r\compose s = \id_{A^A}$\qedhere\\
    \noindent\textit{NB. This model also satisfies the equation $s\compose r = \id_A$.}
  \end{proof}
  \begin{proof}[Case]
    $\abs{A}\geq 2$
    \begin{align*}
      \abs{A^A} = \abs{A}^{\abs{A}} \geq 2^{\abs{A}} > \abs{A}
      \tag*{\qedhere}
    \end{align*}
  \end{proof}
\end{prop}

\subsection{Part (f)}\label{sec:q-2-f}

\newcommand{\Pfin}[1]{\mathbf{P}_{\operatorname{fin}}(#1)}
\begin{prop}\label{prop:union-product-iso}
  For any $X, Y\in\mathbf{Set}$ there is an isomorphism
  \begin{align*}
    \Pfin{X + Y} \cong \Pfin{X}\times\Pfin{Y}
  \end{align*}
  Supposing we define
  \begin{align*}
    f & : \Pfin{X + Y}\to\Pfin{X}\times\Pfin{Y}\\
    f & : A\mapsto (\{x : (1,x)\in A\},\{y : (2,y)\in A\})\\[1em]
    g & : \Pfin{X}\times\Pfin{Y}\to\Pfin{X + Y}\\
    g & : (A, B)\mapsto \{(1,a) : a\in A\}\cup\{(2, b) : b\in B\}
  \end{align*}
  Then it suffices to prove that
  \begin{enumerate}[(i)]
    \item $f\compose g = \id_{\Pfin{X}\times\Pfin{Y}}$
    \item $g\compose f = \id_{\Pfin{X + Y}}$
  \end{enumerate}

  \begin{proof} (i)
    \begin{itemize}
      \item[$\star$]
        \begin{itemize}
          \item[\phs]
            \Let~$(A,B)\in\Pfin{X}\times\Pfin{Y}$
            \marginnote{\Hyp}

          \item[\phs]
            $f(g(A,B))$

          \item[\eqs]
            $f(\{(1,a):a\in A\}\cup\{(2,b):b\in B\})$
            \marginnote{\Def-$g$}

          \item[\eqs]
            \marginnote[2em]{\Def-$f$}
            \begin{flalign*}
            ( &~\{x : (1,x)\in\{(1,a):a\in A\}\cup\{(2,b):b\in B\}\} &\\
            , &~\{y : (2,y)\in\{(1,a):a\in A\}\cup\{(2,b):b\in B\}\} &\\
            ) &&
            \end{flalign*}

          \item[\eqs]
            \begin{flalign*}
              ( &~\{x:(1,x)\in\{(1,a):a\in A\}\}\\
              , &~\{y:(2,y)\in\{(2,b):b\in B\}\}\\
              ) &&
            \end{flalign*}

          \item[\eqs]
            $(\{x : x\in A\},~\{y : y\in B\})$

          \item[\eqs]
            $(A,~B)$

          \item[\eqs]
            $\id_{\Pfin{X}\times\Pfin{Y}}(A,~B)$
        \end{itemize}
        \item[\imps]
          $\forall (A, B)\in\Pfin{X}\times\Pfin{Y}\ldotp~f(g(A,~B)) = \id_{\Pfin{X}\times\Pfin{Y}}(A,~B)$
          \marginnote{$\forall$-intro-$\star$}

        \item[\imps]
          $f\compose g = \id_{\Pfin{X}\times\Pfin{Y}}$
          \qedhere
          \marginnote{\Def-$=$}
    \end{itemize}
  \end{proof}

  \begin{proof} (ii)
    \begin{itemize}
      \item[$\star$]
        \begin{itemize}
          \item[\phs]\Let~$A\in\Pfin{X+Y}$

          \item[\phs] $g(f(A))$

          \item[\eqs]
            $g(\{x:(1,x)\in A\},~\{y:(2,y)\in A\})$

          \item[\eqs]
            $\{(1,a) : a\in\{x : (1,x)\in A\}\}$

          \item[$\cup$]
            $\{(2,b) : b\in\{y : (2,b)\in A\}\}$

          \item[\eqs]
            $\{(1,a) : (1,a)\in A\}\cup\{(2,b):(2,b)\in A\}$

          \item[\eqs]
            $A$

          \item[\eqs]
            $\id_{\Pfin{X + Y}}(A)$
        \end{itemize}

      \item[\imps]
        $\forall A\in\Pfin{X+Y}\ldotp~g(f(A)) = \id_{\Pfin{X+Y}}(A)$
        \marginnote{$\forall$-intro-$\star$}

      \item[\imps]
        $g\compose f = \id_{\Pfin{X+Y}}$
        \qedhere
        \marginnote{\Def-$=$}
    \end{itemize}
  \end{proof}
\end{prop}

\subsection{Part (g)}\label{sec:q-2-g}

\begin{prop}\label{prop:rel-hat-subset}
  $(s,t)\in\widehat{R}\land t^\prime\subseteq t\implies (s,t^\prime)\in\widehat{R}$
  \begin{proof}~\\
    \begin{itemize}
      \item[\phantom{\imps}]
        $(s,t)\in\widehat{R}$
        \marginnote{\Hyp}

      \item[\iffs]
        $\forall y\in t\ldotp~(s,y)\in R$
        \marginnote{\Def-$\widehat{R}$}

      \item[\imps]
        $\forall y\in t^\prime\ldotp~(s,y)\in R$
        \marginnote{$t^\prime\subseteq t$}

      \item[\iffs]
        $(s, t^\prime)\in\widehat{R}$
        \qedhere
        \marginnote{\Def-$\widehat{R}$}
    \end{itemize}
  \end{proof}
\end{prop}

\begin{prop}\label{prop:rel-rel-hat}
  $R = \{(s,y) : (s,\{y\})\in\widehat{R}\}$
  \begin{proof}~\\
    \begin{itemize}
      \item[\phs] $\{(s,y):(s,\{y\})\in\widehat{R}\}$

      \item[\eqs] $\{(s,y):\forall y\in\{y\}\ldotp~(s,y)\in R\}$

      \item[\eqs] $\{(s,y):(s,y)\in R\}$

      \item[\eqs] $R$\qedhere
    \end{itemize}
  \end{proof}
\end{prop}

\begin{prop}\label{prop:rel-hat-comp}
  $X\overset{R}{\longrightarrow}Y\overset{S}{\longrightarrow}Z\text{ in }\mathbf{CRel}\implies\widehat{S\compose R} = \widehat{S}\compose\widehat{R}$
  \begin{proof}~\\
    \begin{itemize}
      \item[\phantom{\imps}]
        $(s,u)\in\widehat{S\compose R}$
        \marginnote{\Hyp}

      \item[\iffs]
        $\forall z\in u\ldotp~(s,z)\in S\compose R$
        \marginnote{\Def-$\widehat{R}$}

      \item[\iffs]
        $\forall z\in u\ldotp~\exists t_z\in\Pfin{Y}\ldotp~(t_z,z)\in S\land\forall y\in t_z\ldotp~(s,y)\in R$
        \marginnote{\Def-$\compose$-\textbf{CRel}}

        \addtolength{\itemsep}{\baselineskip}
        \item[\phantom{\imps}]
          This step forms the crux of the proof. It follows in the left to right direction by setting $t \triangleq \bigcup\limits_{z\in u} t_z$. Then $t_z\subseteq t$ for every $z\in u$ so by the c-relation condition $\forall z\in u\ldotp~(t,z)\in S$.

        \item[\phantom{\imps}]
          The right to left direction, follows by setting $t_z \triangleq t$, for every ${z\in u}$ (a special case of the theorem ${\exists x\ldotp~\forall y\ldotp~P(x, y)\vdash\forall y\ldotp\exists x\ldotp~P(x,y)}$).

      \item[\iffs]
        $\exists t\in\Pfin{Y}\ldotp~\forall z\in u\ldotp~(t,z)\in S\land\forall y\in t\ldotp~(s,y)\in R$

        \addtolength{\itemsep}{-1\baselineskip}
      \item[\iffs]
        $\exists t\in\Pfin{Y}\ldotp~(t,u)\in\widehat{S}\land (s,t)\in\widehat{R}$
        \marginnote{\Def-$\widehat{R}$}

      \item[\iffs]
        $(s, u)\in\widehat{S}\compose\widehat{R}$
        \qedhere
        \marginnote{\Def-$\compose$-\textbf{Rel}}

    \end{itemize}
  \end{proof}
\end{prop}

\subsection{Part (h)}\label{sec:q-2-h}

\begin{prop}
  $\mathbf{CRel}$ is a category

  It suffices to prove that
  \begin{enumerate}[(i)]
    \item c-relations compose (given in the definition).

    \item for every object, an identity morphism exists.

    \item composition of morphisms associate.
  \end{enumerate}
  \begin{proof}[Proof (ii)]
    Let $A\in\mathbf{CRel}$\\[1em]
    \noindent define $\id_A : A\to A;~(s, a)\in \id_A \iff a\in S\subseteq A$\\[1em]
    \noindent then for $S : B\to A$ in $\mathbf{CRel}$

    \begin{itemize}
      \item[\phantom{\imps}]
        $(\overline{b}, a)\in \id_A\compose S$

      \item[\iffs]
        $\exists\overline{a}^\prime\in\Pfin{A}\ldotp~(\overline{a}^\prime,a)\in\id_A\land \forall a^\prime\in\overline{a}^\prime\ldotp~(\overline{b},a^\prime)\in S$
        \marginnote{\Def-$\compose$-$\mathbf{CRel}$}

      \item[\iffs]
        $\exists\overline{a}^\prime\in\Pfin{A}\ldotp~a\in\overline{a}^\prime\land \forall a^\prime\in\overline{a}^\prime\ldotp~(\overline{b},a^\prime)\in S$
        \marginnote{\Def-$\id_A$}

      \item[\phantom{\imps}]
        Left to right follows because for any $\overline{a}^\prime$ satisfying the above, $\{a\}$ is a subset, and so will also satisfy it.

      \item[\phantom{\imps}]
        Right to left follows by $\exists$-\Intro.

      \item[\iffs]
        $a\in\{a\}\land\forall a^\prime\in\{a\}\ldotp~(\overline{b},a^\prime)\in S$

      \item[\iffs]
        $(\overline{b},a)\in S$
    \end{itemize}

    And similarly for $R : A\to B$ in $\mathbf{CRel}$

    \begin{itemize}
      \item[\phantom{\imps}]
        $(\overline{a}, b)\in R\compose \id_A$

      \item[\iffs]
        $\exists\overline{a}^\prime\in\Pfin{A}\ldotp~(\overline{a}^\prime,b)\in R\land\forall a^\prime\in\overline{a}^\prime\ldotp~(\overline{a}, a^\prime)\in\id_A$

      \item[\iffs]
        $\exists\overline{a}^\prime\in\Pfin{A}\ldotp~(\overline{a}^\prime,b)\in R\land\forall a^\prime\in\overline{a}^\prime\ldotp~a^\prime\in\overline{a}$

      \item[\iffs]
        $\exists\overline{a}^\prime\in\Pfin{A}\ldotp~(\overline{a}^\prime,b)\in R\land\overline{a}^\prime\subseteq\overline{a}$

      \item[\phantom{\imps}]
        Left to right follows by the c-relation condition.

      \item[\phantom{\imps}]
        Right to left follows by setting $\overline{a}^\prime\triangleq\overline{a}$.

      \item[\iffs]
        $(\overline{a}, b)\in R$\qedhere
    \end{itemize}
  \end{proof}

  \begin{proof}[Proof (iii)]
    let $X\overset{R}\longrightarrow Y\overset{S}\longrightarrow Z\overset{T}\longrightarrow W$ in $\mathbf{CRel}$

    \begin{itemize}
      \item[\phs]
        $R\compose(S\compose T)$

      \item[\eqs]
        $\{(a,w):(a,\{w\})\in\widehat{R\compose(S\compose T)}\}$
        \marginnote{\Thm-\ref{prop:rel-rel-hat}}

      \item[\eqs]
        $\{(a,w):(a,\{w\})\in\widehat{R}\compose(\widehat{S\compose T})\}$
        \marginnote{\Thm-\ref{prop:rel-hat-comp}}

      \item[\eqs]
        $\{(a,w):(a,\{w\})\in\widehat{R}\compose(\widehat{S}\compose\widehat{T})\}$
        \marginnote{\Thm-\ref{prop:rel-hat-comp}}

      \item[\eqs]
        $\{(a,w):(a,\{w\})\in(\widehat{R}\compose\widehat{S})\compose\widehat{T}\}$
        \marginnote{\Assoc-$\compose$-$\mathbf{Rel}$}

      \item[\eqs]
        $\{(a,w):(a,\{w\})\in(\widehat{R\compose S})\compose\widehat{T}\}$
        \marginnote{\Thm-\ref{prop:rel-hat-comp}}

      \item[\eqs]
        $\{(a,w):(a,\{w\})\in\widehat{(R\compose S)\compose T}\}$
        \marginnote{\Thm-\ref{prop:rel-hat-comp}}

      \item[\eqs]
        $(R\compose S)\compose T$
        \qedhere
        \marginnote{\Thm-\ref{prop:rel-rel-hat}}
    \end{itemize}
  \end{proof}
\end{prop}

\subsection{Part (i)}\label{sec:q-2-i}

We give multiple equivalent definitions for each construct below, as each is useful in some part of the ensuing proofs.

\begin{definition}[Left projection]
  \begin{align*}
    \pi_1 & \subseteq \Pfin{A + B}\times A\\
    (\overline{p}, a)\in\pi_1 & \iff(1,a)\in\overline{p}
  \intertext{Equivalently, under the image of the isomorphism (Proposition~\ref{prop:union-product-iso}):}
    \pi_1 & \subseteq(\Pfin{A}\times\Pfin{B})\times A\\
    ((\overline{a},\overline{b}), a)\in\pi_1 & \iff a\in\overline{a}
  \intertext{And, under the image of $~\widehat{\cdot}~$:}
    \pi_1 & \subseteq(\Pfin{A}\times\Pfin{B})\times\Pfin{A}\\
    ((\overline{a},\overline{b}),\overline{a}^\prime)\in\widehat{\pi}_1 & \iff\overline{a}^\prime\subseteq\overline{a}
  \end{align*}
\end{definition}

\begin{definition}[Right projection]
  \begin{align*}
    \pi_2 & \subseteq \Pfin{A + B}\times B\\
    (\overline{p}, b)\in\pi_2 & \iff(2,b)\in\overline{p}
  \intertext{Equivalently, under the image of the isomorphism (Proposition~\ref{prop:union-product-iso}):}
    \pi_2 & \subseteq(\Pfin{A}\times\Pfin{B})\times B\\
    ((\overline{a},\overline{b}), b)\in\pi_2 & \iff b\in\overline{b}
  \intertext{And, under the image of $~\widehat{\cdot}~$:}
    \pi_2 & \subseteq(\Pfin{A}\times\Pfin{B})\times\Pfin{B}\\
    ((\overline{a},\overline{b}),\overline{b}^\prime)\in\widehat{\pi}_1 & \iff\overline{b}^\prime\subseteq\overline{b}
  \end{align*}
\end{definition}

\begin{definition}[Product morphism]
  \begin{align*}
    \langle f,g\rangle & \subseteq\Pfin{C}\times(A + B) \\
    \langle f,g\rangle & =
    \{(\overline{c},(1,a)) : (\overline{c},a)\in f\} \cup
    \{(\overline{c},(2,b)) : (\overline{c},b)\in g\}
  \intertext{Equivalently, under the image of $~\widehat{\cdot}~$ and the isomorphism (Proposition~\ref{prop:union-product-iso}):}
    \widehat{\langle f,g\rangle} & \subseteq\Pfin{C}\times(\Pfin{A}\times\Pfin{B}) \\
    (\overline{c},(\overline{a},\overline{b}))\in\widehat{\langle f,g\rangle} & \iff (\forall a\in\overline{a}\ldotp~(\overline{c},a)\in f)\land (\forall b\in\overline{b}\ldotp~(\overline{c},b)\in g)
  \end{align*}
\end{definition}

Additionally it may be useful to restate composition in $\mathbf{CRel}$:

\begin{definition}[Composition in $\mathbf{CRel}$]\label{def:crel-comp}
For $X\overset{R}\longrightarrow Y\overset{S}\longrightarrow Z$
\begin{align*}
  (\overline{x},z)\in S\compose R\iff\exists\overline{y}\in\Pfin{Y}\ldotp~(\overline{y},z)\in S\land(\overline{x},\overline{y})\in\widehat{R}
\end{align*}
This follows from the definitions of $~\widehat{\cdot}~$.
\end{definition}

\begin{figure}
  \caption{Commutative diagram describing binary products.}\label{fig:crel-products}
  \begin{center}
    \begin{tikzcd}[sep=large]
      A & A + B \arrow[l, "\pi_1"'] \arrow[r, "\pi_2"] & B\\
      & C \arrow[ul, "f"]\arrow[u, "{\langle f,g\rangle}"', dashed]\arrow[ur, "g"']&
    \end{tikzcd}
  \end{center}
\end{figure}

\begin{prop}
  Disjoint union defines binary product in $\mathbf{CRel}$.

  It suffices to prove that for any $A,B,C\in\mathbf{CRel}$ such that ${A\overset{f}\longleftarrow C\overset{g}\longrightarrow B}$, Figure \ref{fig:crel-products} commutes, or, in formulae:

  \begin{enumerate}[(i)]
    \item $\pi_1\compose\langle f, g\rangle = f$
    \item $\pi_2\compose\langle f, g\rangle = g$
    \item $\forall h : C\to A+B\ldotp~\langle\pi_1\compose h,\pi_2\compose h\rangle = h$
  \end{enumerate}

  \begin{proof}[Proof (i)]
    \begin{itemize}
      \item[\phantom{\imps}]
        $(\overline{c},a)\in\pi_1\compose\langle f,g\rangle$

      \item[\iffs]
        $\exists(\overline{a},\overline{b})\in\Pfin{A}\times\Pfin{B}\ldotp~((\overline{a},\overline{b}),a)\in\pi_1\land(\overline{c},(\overline{a},\overline{b}))\in\widehat{\langle f,g\rangle}$
        \marginnote{\Def-\ref{def:crel-comp}}

      \item[\iffs]
        $\exists(\overline{a},\overline{b})\ldotp~a\in\overline{a}\land(\forall a^\prime\in\overline{a}\ldotp~(\overline{c},a^\prime)\in f)\land(\forall b^\prime\in\overline{b}\ldotp~(\overline{c},b^\prime)\in g)$
        \marginnote{\Def-$\pi_1$;~\Def-$\widehat{\langle f,g\rangle}$}

      \item[\phantom{\imps}]
        Left to right follows because for any set $(\overline{a},\overline{b})$ satisfying the proposition, we have that $a\in\overline{a}$, which in turn, by the middle conjunct implies that $(\overline{c},a)\in f$.

      \item[\phantom{\imps}]
        Right to left follows by setting $(\overline{a},\overline{b})\triangleq(\{a\},\varnothing)$

      \item[\iffs]
        $(\overline{c},a)\in f$
        \qedhere
    \end{itemize}
  \end{proof}

  \begin{proof}[Proof (ii)]
    Similar to (i)\qedhere
  \end{proof}

  \begin{proof}[Proof (iii)]
    Let $h : C\to A+B$
    \begin{itemize}
      \item[\phantom{\imps}]
        $(\overline{c}, (\overline{a}, \overline{b}))\in\widehat{\langle\pi_1\compose h,\pi_2\compose h\rangle}$

      \item[\iffs]
        $(\forall a\in\overline{a}\ldotp~(\overline{c},a)\in\pi_1\compose h)\land(\forall b\in\overline{b}\ldotp~(\overline{c},b)\in\pi_2\compose h)$
        \marginnote{\Def-$~\widehat{\langle f,g\rangle}$}

      \item[\iffs]
        $(\overline{c},\overline{a})\in\widehat{\pi_1\compose h}\land(\overline{c},\overline{b})\in\widehat{\pi_2\compose h}$
        \marginnote{\Def-$~\widehat{\cdot}$}

      \item[\iffs]
        $(\overline{c},\overline{a})\in\widehat{\pi}_1\compose\widehat{h}\land(\overline{c},\overline{b})\in\widehat{\pi}_2\compose\widehat{h}$
        \marginnote{\Def-\ref{prop:rel-hat-comp}}

      \item[\iffs]
        $(\exists(\overline{a}^\prime,\overline{b}^\prime)\ldotp~(\overline{c},(\overline{a}^\prime,\overline{b}^\prime))\in\widehat{h}\land((\overline{a}^\prime,\overline{b}^\prime),\overline{a})\in\widehat{\pi}_1)$
        \marginnote{\Def-$\compose$-$\mathbf{Rel}$}

      \addtolength{\itemsep}{-.4\baselineskip}
      \item[\phantom{\iffs}\llap{$\land$}] $(\exists(\overline{a}^\prime,\overline{b}^\prime)\ldotp~(\overline{c},(\overline{a}^\prime,\overline{b}^\prime))\in\widehat{h}\land((\overline{a}^\prime,\overline{b}^\prime),\overline{b})\in\widehat{\pi}_2)$
      \addtolength{\itemsep}{.4\baselineskip}

      \item[\iffs]
        $(\exists(\overline{a}^\prime,\overline{b}^\prime)\ldotp~(\overline{c},(\overline{a}^\prime,\overline{b}^\prime))\in\widehat{h}\land\overline{a}\subseteq\overline{a}^\prime)$
        \marginnote{\Def-$\widehat{\pi}_1$}

      \addtolength{\itemsep}{-.4\baselineskip}
      \item[\phantom{\iffs}\llap{$\land$}] $(\exists(\overline{a}^\prime,\overline{b}^\prime)\ldotp~(\overline{c},(\overline{a}^\prime,\overline{b}^\prime))\in\widehat{h}\land\overline{b}\subseteq\overline{b}^\prime)$
        \marginnote{\Def-$\widehat{\pi}_2$}
      \addtolength{\itemsep}{.4\baselineskip}

      \addtolength{\itemsep}{.5\baselineskip}
      \item[\phantom{\imps}]
        By $\exists$-\Elim, let $(\overline{a}^\prime_1,\overline{b}^\prime_1)$ and $(\overline{a}^\prime_2,\overline{b}^\prime_2)$ be sets satisfying the first and second quantification respectively. Then (Through the image of the isomorphism) ${(\overline{c},(\overline{a}^\prime_1\cup\overline{a}^\prime_2,~\overline{b}^\prime_1\cup\overline{b}^\prime_2))\in\widehat{h}}$ and ${(\overline{a},\overline{b})\subseteq(\overline{a}^\prime_1\cup\overline{a}^\prime_2,~\overline{b}^\prime_1\cup\overline{b}^\prime_2)}$. So from Proposition~\ref{prop:rel-hat-subset} left to right follows.

      \item[\phantom{\imps}]
        Right to left follows by setting $\overline{a}^\prime\triangleq\overline{a},~\overline{b}^\prime\triangleq\overline{b}$ in both quantifications.

      \item[\iffs]
        $(\overline{c},(\overline{a},\overline{b}))\in\widehat{h}$
      \addtolength{\itemsep}{-.5\baselineskip}

      \item[\iffs]
        $\langle\pi_1\compose h,\pi_2\compose h\rangle = h$
        \qedhere
    \end{itemize}
  \end{proof}
\end{prop}

Finally, the terminal object in $\mathbf{CRel}$ is $\varnothing$, the empty set.

\subsection{Part (j)}\label{sec:q-2-j}

\begin{prop}
  $\App\compose(\lambda f\times\id) = f$
  \begin{proof}
    Let $f : A\times X\to Y$
    \begin{itemize}
      \item[\phs]
        $\App\compose(\lambda f\times\id)$

      \item[\eqs]
        $\App\compose\langle\lambda\compose\pi_1,\id\compose\pi_2\rangle$
        \marginnote{\Def-$\times$}

      \item[\eqs]
        $\App\compose\langle\lambda\compose\pi_1,~\pi_2\rangle$
        \marginnote{\Def-$\id$}

      \item[\phantom{\imps}]
        $((\overline{a},\overline{x}), y)\in\App\compose\langle\lambda f\compose\pi_1,\pi_2\rangle$

      \item[\iffs]
        $\exists(\overline{g},\overline{x}^\prime\in\Pfin{\Pfin{X}\times Y}\times\Pfin{X}$
        \marginnote{\Def-\ref{def:crel-comp}}

      \addtolength{\itemsep}{-.3\baselineskip}
      \item[\phantom{\imps}]
        \quad$((\overline{g},\overline{x}^\prime), y)\in\App\land((\overline{a},\overline{x}),(\overline{g},\overline{x}^\prime))\in\widehat{\langle\lambda f\compose\pi_1,\pi_2\rangle}$

      \addtolength{\itemsep}{.3\baselineskip}

      \item[\iffs]
        $\exists(\overline{g} = \{(\overline{s}_1,y_1),\ldots,(\overline{s}_n,y_n)\},~\overline{x}^\prime)$

      \addtolength{\itemsep}{-.3\baselineskip}
      \item[\phantom{\imps}]
        \quad$\phantom{\land}~(\exists i\ldotp y_i=y\land\overline{s}_i\subseteq\overline{x}^\prime)$
        \marginnote{\Def-$\App$}

      \item[\phantom{\imps}]
        \quad$\land~(\forall g\in\overline{g}\ldotp~((\overline{a},\overline{x}),g)\in\lambda g\compose\pi_1)$
        \marginnote{\Def-$\widehat{\langle f,g\rangle}$}

      \item[\phantom{\imps}]
        \quad$\land~(\forall x^\prime\in\overline{x}^\prime\ldotp~((\overline{a},\overline{x}), x^\prime)\in\pi_2$
      \addtolength{\itemsep}{.3\baselineskip}

      \item[\iffs]
        $\exists(\overline{g} = \{(\overline{s}_1,y_1),\ldots,(\overline{s}_n,y_n)\},~\overline{x}^\prime)$

      \addtolength{\itemsep}{-.3\baselineskip}
      \item[\phantom{\imps}]
        \quad$\phantom{\land}~(\exists i\ldotp y_i=y\land\overline{s}_i\subseteq\overline{x}^\prime)$

      \item[\phantom{\imps}]
        \quad$\land~((\overline{a},\overline{x}), \overline{g})\in\widehat{\lambda f\compose\pi_1}$
        \marginnote{\Def-$~\widehat{\cdot}$}

      \item[\phantom{\imps}]
        \quad$\land~(\forall x^\prime\in\overline{x}^\prime\ldotp~x^\prime\in\overline{x})$
        \marginnote{\Def-$\pi_2$}
      \addtolength{\itemsep}{.3\baselineskip}

      \item[\iffs]
        $\exists\overline{g} = \{(\overline{s}_1,y_1),\ldots,(\overline{s}_n,y_n)\}$

      \addtolength{\itemsep}{-.3\baselineskip}
      \item[\phantom{\imps}]
        \quad$\phantom{\land}~(\exists i\ldotp y_i=y\land\overline{s}_i\subseteq\overline{x})$

      \item[\phantom{\imps}]
        \quad$\land~((\overline{a},\overline{x}), \overline{g})\in\widehat{\lambda f}\compose\widehat{\pi}_1$
        \marginnote{\Thm-\ref{prop:rel-hat-comp}}

      \addtolength{\itemsep}{.3\baselineskip}

      \item[\iffs]
        $\exists\overline{g} = \{(\overline{s}_1,y_1),\ldots,(\overline{s}_n,y_n)\}$

      \addtolength{\itemsep}{-.3\baselineskip}
      \item[\phantom{\imps}]
        \quad$\phantom{\land}~(\exists i\ldotp y_i=y\land\overline{s}_i\subseteq\overline{x})$

      \item[\phantom{\imps}]
        \quad$\land~(\exists\overline{a}^\prime\ldotp~((\overline{a},\overline{x}),\overline{a}^\prime)\in\widehat{\pi}_1\land(\overline{a}^\prime,\overline{g}^\prime)\in\widehat{\lambda f}$
        \marginnote{\Def-$\compose$-$\mathbf{Rel}$}

      \addtolength{\itemsep}{.3\baselineskip}

      \item[\iffs]
        $\exists\overline{g} = \{(\overline{s}_1,y_1),\ldots,(\overline{s}_n,y_n)\}$

      \addtolength{\itemsep}{-.3\baselineskip}
      \item[\phantom{\imps}]
        \quad$\phantom{\land}~(\exists i\ldotp y_i=y\land\overline{s}_i\subseteq\overline{x})$

      \item[\phantom{\imps}]
        \quad$\land~\exists\overline{a}^\prime\ldotp~\overline{a}^\prime\subseteq\overline{a}\land\forall(\overline{s}_j,y_j)\in\overline{g}\ldotp~(\overline{a}^\prime,(\overline{s}_j, y_j))\in\lambda f$
        \marginnote{\Def-$\widehat{\pi}_1$;~\Def-$~\widehat{\cdot}$}

      \addtolength{\itemsep}{.3\baselineskip}

      \item[\phantom{\imps}]
        Left to right follows from the c-relation condition.

      \item[\phantom{\imps}]
        Right to left follows by $\exists$-\Intro, setting $\overline{a}^\prime\triangleq\overline{a}$.

      \item[\iffs]
        $\exists\overline{g} = \{(\overline{s}_1,y_1),\ldots,(\overline{s}_n,y_n)\}$

      \addtolength{\itemsep}{-.3\baselineskip}
      \item[\phantom{\imps}]
        \quad$\phantom{\land}~(\exists i\ldotp y_i=y\land\overline{s}_i\subseteq\overline{x})$

      \item[\phantom{\imps}]
        \quad$\land~\forall(\overline{s}_j,y_j)\in\overline{g}\ldotp~(\overline{a},(\overline{s}_j, y_j))\in\lambda f$

      \addtolength{\itemsep}{.3\baselineskip}

      \item[\iffs]
        $\exists\overline{g} = \{(\overline{s}_1,y_1),\ldots,(\overline{s}_n,y_n)\}$

      \addtolength{\itemsep}{-.3\baselineskip}
      \item[\phantom{\imps}]
        \quad$\phantom{\land}~(\exists i\ldotp y_i=y\land\overline{s}_i\subseteq\overline{x})$

      \item[\phantom{\imps}]
        \quad$\land~\forall(\overline{s}_j,y_j)\in\overline{g}\ldotp~((\overline{a},\overline{s}_j), y_j)\in f$
        \marginnote{\Def-$\lambda\cdot$}

      \addtolength{\itemsep}{.3\baselineskip}

      \item[\phantom{\imps}]
        Left to right follows by singling out the pair satisfying the first conjunct, and then performing an $\forall$-\Elim~on the second conjunct with it.

      \item[\phantom{\imps}]
        Right to left follows by $\exists$-\Intro, setting $\overline{g}\triangleq\{(\overline{s},y)\}$.

      \item[\iffs]
        $\exists\overline{s}\ldotp~\overline{s}\subseteq\overline{x}\land((\overline{a},\overline{s}),y)\in f$

      \item[\phantom{\imps}]
        Left to right follows by the c-relation condition.

      \item[\phantom{\imps}]
        Right to left follows by $\exists$-\Intro, setting $\overline{s}\triangleq\overline{x}$.

      \item[\iffs]
        $((\overline{a},\overline{x}),y)\in f$
        \qedhere
    \end{itemize}
  \end{proof}
\end{prop}

\begin{prop}
  $\lambda f\compose g = \lambda(f\compose (g\times\id))$
  \begin{proof}
    Let $g : A\to B,~f :B\times X\to Y$
    \begin{itemize}
    \item[\phs]
      $\lambda(f\compose(g\times\id))$
    \item[\eqs]
      $\lambda(f\compose\langle g\compose\pi_1,\pi_2\rangle)$
      \marginnote{\Def-$\times$}

    \addtolength{\itemsep}{.5\baselineskip}
    \item[\phantom{\imps}]
      $(\overline{a},(\overline{x},y))\in \lambda(f\compose\langle g\compose\pi_1,\pi_2\rangle)$

    \addtolength{\itemsep}{-.5\baselineskip}
    \item[\iffs]
      $((\overline{a},\overline{x}),y)\in f\compose\langle g\compose\pi_1,\pi_2\rangle$
      \marginnote{\Def-$\lambda\cdot$}

    \item[\iffs]
      $\exists(\overline{b},\overline{x}^\prime)\ldotp~((\overline{b},\overline{x}^\prime),y)\in f$
      \marginnote{\Def-\ref{def:crel-comp}}

    \addtolength{\itemsep}{-.3\baselineskip}
    \item[\phantom{\imps}]
      \quad$\land~((\overline{a},\overline{x}),(\overline{b},\overline{x}^\prime))\in\widehat{\langle g\compose\pi_1,\pi_2\rangle}$
    \addtolength{\itemsep}{.3\baselineskip}

    \item[\iffs]
      $\exists(\overline{b},\overline{x}^\prime)\ldotp~((\overline{b},\overline{x}^\prime),y)\in f$

    \addtolength{\itemsep}{-.3\baselineskip}
    \item[\phantom{\imps}]
      \quad$\land~(\forall b\in\overline{b}\ldotp~((\overline{a},\overline{x}),b)\in g\compose\pi_1)$
      \marginnote{\Def-$\widehat{\langle f,g\rangle}$}

    \item[\phantom{\imps}]
      \quad$\land~(\forall x\in\overline{x}^\prime\ldotp~((\overline{a},\overline{x}),x^\prime)\in \pi_2)$
    \addtolength{\itemsep}{.3\baselineskip}

    \item[\iffs]
      $\exists(\overline{b},\overline{x}^\prime)\ldotp~((\overline{b},\overline{x}^\prime),y)\in f$

    \addtolength{\itemsep}{-.3\baselineskip}
    \item[\phantom{\imps}]
      \quad$\land~(\forall b\in\overline{b}\ldotp~\exists\overline{a}^\prime\ldotp~\overline{a}^\prime\subseteq\overline{a}\land(\overline{a}^\prime,b)\in g)$
      \marginnote{\Def-\ref{def:crel-comp};~\Def-$\widehat{\pi}_1$}

    \item[\phantom{\imps}]
      \quad$\land~\overline{x}^\prime\subseteq\overline{x}$
      \marginnote{\Def-$\widehat{\pi}_2$}
    \addtolength{\itemsep}{.3\baselineskip}

    \item[\phantom{\imps}]
      Left to right follows by two applications of the c-relation condition.

    \item[\phantom{\imps}]
      Right to left follows by two applications of $\exists$-\Intro, setting $\overline{x}^\prime\triangleq\overline{x}$ and $\overline{a}^\prime\triangleq\overline{a}$.

    \item[\iffs]
      $\exists\overline{b}\ldotp~((\overline{b},\overline{x}),y)\in f$

    \addtolength{\itemsep}{-.3\baselineskip}
    \item[\phantom{\imps}]
      \quad$\land~(\forall b\in\overline{b}\ldotp~(\overline{a},b)\in g)$
    \addtolength{\itemsep}{.3\baselineskip}

    \item[\iffs]
      $\exists\overline{b}\ldotp~(\overline{b},(\overline{x},y))\in \lambda f\land\forall b\in\overline{b}\ldotp~(\overline{a},b)\in g$
     \marginnote{\Def-$\lambda\cdot$}

    \item[\iffs]
      $(\overline{a},(\overline{x},y))\in\lambda f\compose g$
      \marginnote{\Def-$\compose$-$\mathbf{CRel}$}
      \qedhere
    \end{itemize}
  \end{proof}
\end{prop}

\subsection{Part (k)}\label{sec:q-2-k}
\subsection{Part (l)}\label{sec:q-2-l}
